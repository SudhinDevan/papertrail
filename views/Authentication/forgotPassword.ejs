<%- include('../User/partials/header.ejs') %>

  <section class="gradient-custom container vh-100">
    <div class="container py-5 h-100 row justify-content-center align-items-center">
      <div class="col-12 col-lg-9 col-xl-8">
        <div class="card shadow-2-strong card-registration">
          <div class="card-body shadow" style="background-color: #EBEBEB;border-radius: 5px;">

            <form action="/forgotPassword" method="post" id="form" class="d-flex flex-column align-items-center mt-3">

              <div class="mb-5 d-flex flex-column align-items-center">
                <div class="fw-bold text-center fs-5 text-uppercase mb-1">Reset Password</div>
                <div class="text-center col-8" style="font-size: 16px;">Type your email and we will sent you
                  instructions on how to reset it.</div>
              </div>

              <div class="col-md-6">

                <div class="form-outline mb-4">
                  <label class="form-label" style="font-size: .90rem;" for="email">Email Address</label>
                  <input type="text" id="email" name="email" style="box-shadow: none;" class="form-control" required />
                </div>

              </div>

              <div id="error-field" class="text-danger"></div>
              <div class="text-center text-danger">
                <%= message %>
              </div>

              <button type="submit" style="background-color: #15A78F;color: #fff;min-width: 10rem;"
                class="btn fw-normal p-10 mb-3 mt-3">Reset</button>


            </form>
          </div>
        </div>
      </div>
    </div>
  </section>

  <script>

    const form = document.getElementById('form');
    const email = document.getElementById('email');

    const emailRegex = /^[\w-\.]+@([\w-]+\.)+[\w-]{2,4}$/;

    form.addEventListener('submit', (e) => {
      e.preventDefault();

      if (!emailRegex.test(email.value)) {
        document.getElementById('error-field').innerHTML = "Please enter valid email"
        document.getElementById('error-field').style.display = "block"
      } else {
        document.getElementById('error-field').innerHTML = ""
        document.getElementById('error-field').style.display = "none"
        form.submit();
      }
    })


  </script>


  <%- include('../User/partials/footer.ejs') %>